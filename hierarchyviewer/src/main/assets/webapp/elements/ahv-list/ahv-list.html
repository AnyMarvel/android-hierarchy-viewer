<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="ahv-cell.html">

<polymer-element name="ahv-list" attributes="views selectedView highlightView">
    <template>
        <link rel="stylesheet" href="ahv-list.css">
        <ul>
        <template repeat="{{view in views}}">
        <ahv-cell view="{{view}}" highlightView="{{highlightView}}"></ahv-cell>
        </template>
        </ul>
    </template>
    <script type="text/javascript">
        Polymer({
            views: null,
            selectedView: null,
            ready: function() {
                var self = this;
                this.addEventListener("list-selected", function(e) {
                    self.selectedView = e.detail;
              
                });  
                this.addEventListener("list-highlight", function(e) {
                   self.highlightView = e.detail;
                }); 
            },
            selectedViewChanged: function() {
                var children = this.shadowRoot.querySelectorAll("ahv-cell");
                for (var i = 0; i < children.length; i++) {
                    children[i].containView(this.selectedView);
                }
            }
        });
    </script>
</polymer-element>
